import{e as re,f as z,g as ae,l as ie,n as se,o as W,p as ce}from"./chunk-BTDKWUSD.js";import{a as H,b as J,c as I,d as Q,e as Z,f as ee,g as te,h as ne,i as oe,j as K}from"./chunk-4B7LFL6T.js";import{$a as f,$b as V,Ab as w,Bb as T,Db as S,Na as m,Oa as X,_b as O,a as F,ac as B,b as L,bb as p,bc as N,db as i,eb as s,gb as D,hb as h,ib as x,jb as g,kb as a,la as U,ob as C,pb as u,rb as M,sb as q,tb as $,ua as d,ub as A,va as l,wb as Y,xb as v,yb as P,zb as E}from"./chunk-OT5OFN47.js";var le=ae("tasks"),R=z(le,o=>o.tasks),de=o=>z(R,c=>c.filter(t=>t.status===o));var me=[I],pe=[K],ge=[V,O,B,N],Pe=[...me,...pe,...ge];var y=()=>[],j=(o,c)=>[o,c],G=o=>({"board-container__kanban--item__editing":o});function ue(o,c){if(o&1){let t=x();D(0),i(1,"input",25),g("keydown.enter",function(e){d(t);let n=a().$implicit,_=a();return l(_.updateTask(n,e.target))})("blur",function(){d(t);let e=a(2);return l(e.cancelEditing())}),s(),i(2,"button",26),g("click",function(){d(t);let e=a(2);return l(e.cancelEditing())}),u(3," Cancel "),s(),h()}if(o&2){let t=a().$implicit;m(),p("value",t.title)}}function be(o,c){if(o&1){let t=x();i(0,"p",27),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.startEditing(e))}),u(1),s(),i(2,"button",28),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.deleteTask(e.id))}),u(3," x "),s()}if(o&2){let t=a().$implicit;m(),M(" ",t.title," ")}}function ke(o,c){if(o&1&&(i(0,"div",23),f(1,ue,4,1,"ng-container",24)(2,be,4,1,"ng-template",null,3,S),s()),o&2){let t=c.$implicit,r=C(3),e=a();p("cdkDragData",t)("ngClass",P(4,G,e.editingTaskId===t.id)),m(),p("ngIf",e.editingTaskId===t.id)("ngIfElse",r)}}function xe(o,c){if(o&1){let t=x();D(0),i(1,"input",25),g("keydown.enter",function(e){d(t);let n=a().$implicit,_=a();return l(_.updateTask(n,e.target))})("blur",function(){d(t);let e=a(2);return l(e.cancelEditing())}),s(),i(2,"button",26),g("click",function(){d(t);let e=a(2);return l(e.cancelEditing())}),u(3," Cancel "),s(),h()}if(o&2){let t=a().$implicit;m(),p("value",t.title)}}function fe(o,c){if(o&1){let t=x();i(0,"p",27),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.startEditing(e))}),u(1),s(),i(2,"button",28),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.deleteTask(e.id))}),u(3," x "),s()}if(o&2){let t=a().$implicit;m(),M(" ",t.title," ")}}function Ce(o,c){if(o&1&&(i(0,"div",29),f(1,xe,4,1,"ng-container",24)(2,fe,4,1,"ng-template",null,4,S),s()),o&2){let t=c.$implicit,r=C(3),e=a();p("cdkDragData",t)("ngClass",P(4,G,e.editingTaskId===t.id)),m(),p("ngIf",e.editingTaskId===t.id)("ngIfElse",r)}}function ve(o,c){if(o&1){let t=x();D(0),i(1,"input",25),g("keydown.enter",function(e){d(t);let n=a().$implicit,_=a();return l(_.updateTask(n,e.target))})("blur",function(){d(t);let e=a(2);return l(e.cancelEditing())}),s(),i(2,"button",26),g("click",function(){d(t);let e=a(2);return l(e.cancelEditing())}),u(3," Cancel "),s(),h()}if(o&2){let t=a().$implicit;m(),p("value",t.title)}}function we(o,c){if(o&1){let t=x();i(0,"p",27),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.startEditing(e))}),u(1),s(),i(2,"button",28),g("click",function(){d(t);let e=a().$implicit,n=a();return l(n.deleteTask(e.id))}),u(3," x "),s()}if(o&2){let t=a().$implicit;m(),M(" ",t.title," ")}}function Te(o,c){if(o&1&&(i(0,"div",30),f(1,ve,4,1,"ng-container",24)(2,we,4,1,"ng-template",null,5,S),s()),o&2){let t=c.$implicit,r=C(3),e=a();p("cdkDragData",t)("ngClass",P(4,G,e.editingTaskId===t.id)),m(),p("ngIf",e.editingTaskId===t.id)("ngIfElse",r)}}var Le=(()=>{let c=class c{constructor(r){this.store=r,this.newTaskTitle="",this.newTaskStatus="To Do",this.editingTaskId=null,this.tasks$=this.store.select(R)}ngOnInit(){this.store.dispatch(ie())}startEditing(r){this.editingTaskId=r.id}updateTask(r,e){let n=e?.value?.trim();if(n){let _=L(F({},r),{title:n});this.store.dispatch(W({task:_})),this.editingTaskId=null}else this.cancelEditing()}cancelEditing(){this.editingTaskId=null}addTask(){let r={id:"",title:this.newTaskTitle,status:this.newTaskStatus};this.store.dispatch(se({task:r})),this.newTaskTitle=""}deleteTask(r){this.store.dispatch(ce({taskId:r}))}onDropTask(r,e){let n=r.item.data;if(n.status!==e){let _=L(F({},n),{status:e});this.store.dispatch(W({task:_}))}}getTasksByStatus(r){return this.store.select(de(r))}};c.\u0275fac=function(e){return new(e||c)(X(re))},c.\u0275cmp=U({type:c,selectors:[["app-kanban-board-ngrx"]],standalone:!0,features:[Y],decls:37,vars:39,consts:[["todoList","cdkDropList"],["inProgressList","cdkDropList"],["doneList","cdkDropList"],["viewModeTodo",""],["viewModeInProgress",""],["viewModeDone",""],[1,"board-container"],[1,"board-container__add-task"],["type","text","placeholder","New task title",1,"board-container__add-task--input",3,"ngModelChange","ngModel"],[1,"board-container__add-task--select",3,"ngModelChange","ngModel"],["value","To Do"],["value","In Progress"],["value","Done"],[1,"board-container__add-task--button",3,"click","disabled"],[1,"board-container__kanban"],[1,"board-container__kanban--column","board-container__kanban--column__todo"],[1,"board-container__kanban--title"],["cdkDropList","",1,"board-container__kanban--list",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","","class","board-container__kanban--item board-container__kanban--item__todo",3,"cdkDragData","ngClass",4,"ngFor","ngForOf"],[1,"board-container__kanban--column","board-container__kanban--column__in-progress"],["cdkDrag","","class","board-container__kanban--item board-container__kanban--item__in-progress",3,"cdkDragData","ngClass",4,"ngFor","ngForOf"],[1,"board-container__kanban--column","board-container__kanban--column__done"],["cdkDrag","","class","board-container__kanban--item board-container__kanban--item__done",3,"cdkDragData","ngClass",4,"ngFor","ngForOf"],["cdkDrag","",1,"board-container__kanban--item","board-container__kanban--item__todo",3,"cdkDragData","ngClass"],[4,"ngIf","ngIfElse"],["type","text","autofocus","",1,"board-container__kanban--input",3,"keydown.enter","blur","value"],[1,"board-container__kanban--cancel",3,"click"],[1,"animated-title",3,"click"],[1,"board-container__kanban--item__button-delete",3,"click"],["cdkDrag","",1,"board-container__kanban--item","board-container__kanban--item__in-progress",3,"cdkDragData","ngClass"],["cdkDrag","",1,"board-container__kanban--item","board-container__kanban--item__done",3,"cdkDragData","ngClass"]],template:function(e,n){if(e&1){let _=x();i(0,"div",6)(1,"div",7)(2,"input",8),A("ngModelChange",function(b){return d(_),$(n.newTaskTitle,b)||(n.newTaskTitle=b),l(b)}),s(),i(3,"select",9),A("ngModelChange",function(b){return d(_),$(n.newTaskStatus,b)||(n.newTaskStatus=b),l(b)}),i(4,"option",10),u(5,"To Do"),s(),i(6,"option",11),u(7,"In Progress"),s(),i(8,"option",12),u(9,"Done"),s()(),i(10,"button",13),g("click",function(){return d(_),l(n.addTask())}),u(11," Add Task "),s()(),i(12,"div",14)(13,"div",15)(14,"h2",16),u(15,"To Do"),s(),i(16,"div",17,0),w(18,"async"),g("cdkDropListDropped",function(b){return d(_),l(n.onDropTask(b,"To Do"))}),f(19,ke,4,6,"div",18),w(20,"async"),s()(),i(21,"div",19)(22,"h2",16),u(23,"In Progress"),s(),i(24,"div",17,1),w(26,"async"),g("cdkDropListDropped",function(b){return d(_),l(n.onDropTask(b,"In Progress"))}),f(27,Ce,4,6,"div",20),w(28,"async"),s()(),i(29,"div",21)(30,"h2",16),u(31,"Done"),s(),i(32,"div",17,2),w(34,"async"),g("cdkDropListDropped",function(b){return d(_),l(n.onDropTask(b,"Done"))}),f(35,Te,4,6,"div",22),w(36,"async"),s()()()()}if(e&2){let _=C(17),k=C(25),b=C(33);m(2),q("ngModel",n.newTaskTitle),m(),q("ngModel",n.newTaskStatus),m(7),p("disabled",!n.newTaskTitle.trim()),m(6),p("cdkDropListData",T(18,12,n.getTasksByStatus("To Do"))||v(24,y))("cdkDropListConnectedTo",E(25,j,k,b)),m(3),p("ngForOf",T(20,14,n.getTasksByStatus("To Do"))||v(28,y)),m(5),p("cdkDropListData",T(26,16,n.getTasksByStatus("In Progress"))||v(29,y))("cdkDropListConnectedTo",E(30,j,_,b)),m(3),p("ngForOf",T(28,18,n.getTasksByStatus("In Progress"))||v(33,y)),m(5),p("cdkDropListData",T(34,20,n.getTasksByStatus("Done"))||v(34,y))("cdkDropListConnectedTo",E(35,j,_,k)),m(3),p("ngForOf",T(36,22,n.getTasksByStatus("Done"))||v(38,y))}},dependencies:[I,J,H,K,ne,oe,Q,te,Z,ee,V,O,B,N],styles:['[_ngcontent-%COMP%]:root{font-size:62.5%;--primary-color: #282828;--secondary-color: #3f3f3f;--secondary-color-m: #575757;--tertiary-color: #575757;--tertiary-color-m: #717171;--quaternary-color: #8b8b8b;--quaternary-color-m: #778490;--quinary-color: #fff;--card-shadow: rgba(0, 0, 0, .1);--stroke: #938abd;--status-todo-text: #ff5656;--status-in-progress-text: #d9ff00;--status-done-text: #2bb432;--transition: all .4s ease-in-out;--transition-duration: .3s;--transform-duration: transform .45s;--transform-duration: transform .45s ease-in-out}.animated-title[_ngcontent-%COMP%]{font-family:Dosis;font-size:calc(.6vw + .6vh);font-weight:400;color:var(--quinary-color);text-align:center;animation:_ngcontent-%COMP%_fadeInSlideUp 2s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInSlideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.board-container__add-task[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:2rem 3rem 0;padding:1.2rem;background-color:var(--secondary-color);border:1px solid var(--primary-color);border-radius:.4rem;box-shadow:0 .1rem .3rem var(--card-shadow)}.board-container__add-task--input[_ngcontent-%COMP%]{flex:2;padding:.8rem;margin-right:.8rem;background-color:var(--secondary-color-m);border:.1rem solid var(--tertiary-color);border-radius:.4rem;color:var(--quinary-color);font-family:"Exo 2";font-size:calc(.5rem + .5vw);outline:none}.board-container__add-task--input[_ngcontent-%COMP%]::placeholder{color:var(--quaternary-color);font-family:"Exo 2"}.board-container__add-task--select[_ngcontent-%COMP%]{flex:1;padding:.8rem;margin-right:.8rem;background-color:var(--secondary-color-m);border:.1rem solid var(--tertiary-color);border-radius:.4rem;color:var(--quinary-color);font-family:"Exo 2";font-size:calc(.5rem + .5vw)}.board-container__add-task--select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--secondary-color-m);color:var(--quinary-color)}.board-container__add-task--button[_ngcontent-%COMP%]{padding:.8rem 1.6rem;background-color:var(--primary-color);border:none;border-radius:.4rem;color:var(--quinary-color);font-family:"Exo 2";font-size:calc(.5rem + .5vw);cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease}.board-container__add-task--button[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-color);box-shadow:0 2px 6px var(--card-shadow)}.board-container__kanban[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;padding:1.6rem}.board-container__kanban[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%}.board-container__kanban--column[_ngcontent-%COMP%]{background-color:var(--secondary-color-m);border-radius:1rem;margin:1.6rem;padding:1.6rem;box-shadow:0 .1rem .1rem var(--primary-color);transition:box-shadow .3s ease}.board-container__kanban--column[_ngcontent-%COMP%]:hover{box-shadow:0 .4rem 1rem var(--tertiary-color-m)}.board-container__kanban--column__todo[_ngcontent-%COMP%]{border-left:.3rem solid var(--status-todo-text)}.board-container__kanban--column__in-progress[_ngcontent-%COMP%]{border-left:.3rem solid var(--status-in-progress-text)}.board-container__kanban--column__done[_ngcontent-%COMP%]{border-left:.3rem solid var(--status-done-text)}.board-container__kanban--title[_ngcontent-%COMP%]{color:var(--quinary-color);font-size:calc(1.2rem + .5vw);font-weight:400;text-align:center;margin-bottom:1.6rem;font-family:"Exo 2"}.board-container__kanban--list[_ngcontent-%COMP%]{min-height:30rem;display:flex;flex-direction:column;padding:0}.board-container__kanban--item[_ngcontent-%COMP%]{border:.1rem solid var(--primary-color);border-radius:.4rem;margin:.8rem 0;padding:1.2rem;cursor:move;transition:background-color .3s,border-color .3s,box-shadow .3s ease;box-shadow:0 .1rem .3rem var(--card-shadow);font-family:"Exo 2";font-size:calc(.5rem + .5vw);background-color:var(--secondary-color);display:flex;justify-content:space-between;align-items:center}.board-container__kanban--item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 6px var(--card-shadow);color:var(--primary-color)}.board-container__kanban--item__todo[_ngcontent-%COMP%]{color:var(--status-todo-text)}.board-container__kanban--item__in-progress[_ngcontent-%COMP%]{color:var(--status-in-progress-text)}.board-container__kanban--item--done[_ngcontent-%COMP%]{color:var(--status-done-text)}.board-container__kanban--item__todo[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-color)}.board-container__kanban--item__in-progress[_ngcontent-%COMP%]:hover{background-color:var(--quaternary-color)}.board-container__kanban--item__done[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-color-m)}.board-container__kanban--item__editing[_ngcontent-%COMP%]{background-color:var(--secondary-color-m)}.board-container__kanban--item__button-delete[_ngcontent-%COMP%]{padding:.4rem .8rem;background-color:var(--status-todo-text);border:none;border-radius:.4rem;color:var(--quinary-color);cursor:pointer}.board-container__kanban--item__button-delete[_ngcontent-%COMP%]:hover{background-color:var(--status-todo-text)}.board-container__kanban--input[_ngcontent-%COMP%]{flex:1;padding:.8rem;margin-right:.8rem;background-color:var(--quaternary-color);border:1px solid var(--secondary-color-m);border-radius:.4rem;color:var(--primary-color);font-family:"Exo 2";font-size:calc(.5rem + .5vw);outline:none}.board-container__kanban--input[_ngcontent-%COMP%]::placeholder{color:var(--quaternary-color);font-family:"Exo 2"}.board-container__kanban--cancel[_ngcontent-%COMP%]{padding:.8rem 1.6rem;background-color:var(--primary-color);border:none;border-radius:.4rem;color:var(--quinary-color);font-family:"Exo 2";font-size:calc(.5rem + .5vw);cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease}.board-container__kanban--cancel[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-color);box-shadow:0 2px 6px var(--card-shadow);border:1px solid var(--primary-color)}@media (max-width: 1920px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:50rem}}@media (max-width: 1705px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:45rem}}@media (max-width: 1550px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:40rem}}@media (max-width: 1397px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:35rem}}@media (max-width: 1242px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:30rem}}@media (max-width: 1087px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:25rem}}@media (max-width: 933px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:20rem}}@media (max-width: 778px){.board-container__kanban--column[_ngcontent-%COMP%]{flex-basis:60rem}}']});let o=c;return o})();export{Le as KanbanBoardNgrxComponent};
